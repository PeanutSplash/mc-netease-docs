---
title: "2.7"
source_url: "https://mc.163.com/dev/mcmanual/mc-dev/mcdocs/1-ModAPI/%E6%9B%B4%E6%96%B0%E4%BF%A1%E6%81%AF/2.7.html"
scraped_at: "2025-09-24T15:54:50.010Z"
batch_id: "2025-09-24T15-54-05-087Z"
tree_path: ["更新信息","2.7"]
output_path: "更新信息/2.7.md"
---

#  2.7

2023.05.26：版本号（V2.7 BE1.18.30） 包括Mod PC包，手机测试版启动器，和服务器引擎。

示例Demo： [点击此处下载 (opens new window)](https://g79.gdl.netease.com/2.7DemoV2.zip)

##  一、更新时间表

1.  在5月26日上线2.7第一个Beta版。
2.  在6月09日上线2.7第二个Beta版。
3.  在6月21日上线2.7稳定版。
4.  在6月28日，全渠道将更新2.7版本玩家包体，玩家将陆续更新到2.7版本，请开发者合理安排更新节奏。

##  二、重要功能更新

###  支持UI设置到世界坐标

在CreateUI接口的参数中新增了绑定到世界坐标的参数，支持设置UI到指定坐标，详情参考[CreateUI接口](/接口/自定义UI/通用#createui)。

![图片](https://mc.163.com/dev/mcmanual/mc-dev/assets/img/posUI.ab700b41.gif)

###  支持渲染指定掉落物

新增AddDropItemToWorld接口，将指定掉落物添加到指定坐标，详情参考[AddDropItemToWorld接口](/接口/方块/渲染#adddropitemtoworld)。

![图片](https://mc.163.com/dev/mcmanual/mc-dev/assets/img/drop.ea47c4ad.gif)

###  自定义大型特征

新增拼图方块、自定义大型特征和结构池的数据驱动json，用于实现跨多个区块的大型随机特征（如原版村庄）效果，详情参考[这篇文档](https://mc.163.com/dev/mcmanual/mc-dev/mcguide/20-玩法开发/15-自定义游戏内容/4-自定义维度/6-自定义大型特征.html)。

![图片](https://mc.163.com/dev/mcmanual/mc-dev/assets/img/largefeature.5d9fc875.gif)

###  中国版粒子支持拖尾渲染器

中国版粒子新增拖尾渲染模块，实现条带拖尾特效，详情请参考[中国版粒子特效说明文档](https://mc.163.com/dev/mcmanual/mc-dev/mcguide/16-美术/9-特效/70-中国版特效属性详细说明.html#粒子拖尾效果属性说明)

![图片](https://mc.163.com/dev/mcmanual/mc-dev/assets/img/traileffect.ba7b1c75.gif)

###  UI新增轮盘控件

UI新增了一种轮盘控件，可用于自定义轮盘菜单，详情请参考[轮盘控件说明文档](https://mc.163.com/dev/mcmanual/mc-dev/mcguide/18-界面与交互/30-UI说明文档.html#selectionwheel)。

![图片](https://mc.163.com/dev/mcmanual/mc-dev/assets/img/selectwheel.a40828cf.gif)

###  自定义箱子

方块配置新增自定义箱子组件，可使方块具有箱子的储物功能，支持自定义容量，[方块Json组件文档](https://mc.163.com/dev/mcmanual/mc-dev/mcguide/20-玩法开发/15-自定义游戏内容/2-自定义方块/1-JSON组件.html#netease-block-chest)。

![图片](https://mc.163.com/dev/mcmanual/mc-dev/assets/img/chest.1e4976f6.gif)

###  自定义树叶

新增了netease:no\_crop\_face\_block组件，使其在相邻面渲染一个面，实现原版树叶方块的效果,详情请参考[方块Json组件文档](https://mc.163.com/dev/mcmanual/mc-dev/mcguide/20-玩法开发/15-自定义游戏内容/2-自定义方块/1-JSON组件.html#netease-no-crop-face-block)。

![图片](https://mc.163.com/dev/mcmanual/mc-dev/assets/img/leaves.cded3aaa.gif)

###  自定义工作台

新增了自定义工作台组件，可让方块具有工作台的特性，支持自定义该工作台的专属配方，详情参考[自定义工作台](https://mc.163.com/dev/mcmanual/mc-dev/mcguide/20-玩法开发/15-自定义游戏内容/2-自定义方块/3-特殊方块/10-自定义工作台.html)。

![图片](https://mc.163.com/dev/mcmanual/mc-dev/assets/img/craftingtable.766a9a6e.gif)

###  自定义随机偏移方块

新增随机偏移组件netease:block\_random\_offset，使方块放置时可自定义随机偏移范围，详情参考[方块Json组件文档](https://mc.163.com/dev/mcmanual/mc-dev/mcguide/20-玩法开发/15-自定义游戏内容/2-自定义方块/1-JSON组件.html#netease-block-random-offset)。

![图片](https://mc.163.com/dev/mcmanual/mc-dev/assets/img/offsetblock.df3575f2.gif)

###  其他

1.  相机支持设置翻滚角，详见[SetCameraRot](/接口/玩家/摄像机#setcamerarot)。
    
2.  与自定义物品类似，自定义方块也支持customtips组件了，详见[方块Json组件文档](https://mc.163.com/dev/mcmanual/mc-dev/mcguide/20-玩法开发/15-自定义游戏内容/2-自定义方块/1-JSON组件.html#netease-custom-tips)。
    
3.  自定义属性接口现在支持存档了，详见[SetAttr](/接口/实体/自定义属性#setattr)接口。
    
4.  新增了官方聊天扩展的5个功能接口，用于开发者定制聊天功能，详见[RegisterChatPrefix](/接口/实体/官方聊天扩展#registerchatprefix)。
    

> 温馨提示：上述聊天扩展接口仅在全渠道上线后方能生效！

###  重要修复

1.  当使用[物品信息字典](https://mc.163.com/dev/mcmanual/mc-dev/mcguide/20-玩法开发/10-基本概念/1-我的世界基础概念.html#物品信息字典)时，如果enchantData里的附魔等级超过该附魔的最高等级，将会导致对该物品的生成（如SpawnItemToPlayerInv）和设置（如SetEntityItem）等接口失败。

> 在此版本之前，会生成一个无附魔的物品。

##  三、API更新

*   新增

1.  新增[GetLocalPosFromWorld](/接口/通用/数学#getlocalposfromworld)(服务端)， 获取基于实体的世界坐标对应的局部坐标
    
2.  新增[GetWorldPosFromLocal](/接口/通用/数学#getworldposfromlocal)(服务端)， 获取基于实体的局部坐标对应的世界坐标
    
3.  新增[GetLocalPosFromWorld](/接口/通用/数学#getlocalposfromworld)(客户端)， 获取基于实体的世界坐标对应的局部坐标
    
4.  新增[GetWorldPosFromLocal](/接口/通用/数学#getworldposfromlocal)(客户端)， 获取基于实体的局部坐标对应的世界坐标
    
5.  新增[GetPlayerList](/接口/世界/实体管理#getplayerlist)(客户端)， 客户端获取level中所有玩家的id列表
    
6.  新增[GetEngineActor](/接口/世界/实体管理#getengineactor)(客户端)， 客户端获取所有实体（不包含玩家）。
    
7.  新增[SetPlayerMotion](/接口/玩家/行为#setplayermotion)(服务端)， 设置玩家瞬时移动方向向量
    
8.  新增[SetJigsawBlock](/接口/世界/方块管理#setjigsawblock)(服务端)， 在某一位置放置拼图方块
    
9.  新增[RegisterChatPrefix](/接口/实体/官方聊天扩展#registerchatprefix)(服务端)， 官方聊天拓展功能 为游戏内指定玩家注册聊天前缀
    
10.  新增[SetShowSocialNearbyInfo](/接口/实体/官方聊天扩展#setshowsocialnearbyinfo)(服务端)， 官方聊天扩展功能 是否显示社交界面同一游戏的附近信息
     
11.  新增[AddCommonPhrases](/接口/实体/官方聊天扩展#addcommonphrases)(服务端)， 官方聊天扩展功能 新增常用聊天短语
     
12.  新增[RemoveCommonPhrases](/接口/实体/官方聊天扩展#removecommonphrases)(服务端)， 官方聊天扩展功能 移除常用聊天短语
     
13.  新增[SetShowOfficialPhrases](/接口/实体/官方聊天扩展#setshowofficialphrases)(服务端)， 官方聊天扩展功能 是否显示官方的常用聊天短语
     
14.  新增[HasComponent](/接口/实体/属性#hascomponent)(服务端)， 判断实体是否有对应的原版组件
     
15.  新增[GetAllComponentsName](/接口/实体/属性#getallcomponentsname)(服务端)， 获取实体所拥有的原版组件list
     
16.  新增[GetStructureSize](/接口/世界/地图#getstructuresize)(服务端)， 获取结构体的长宽高
     
17.  新增[PlaceNeteaseLargeFeature](/接口/世界/地图#placeneteaselargefeature)(服务端)， 放置网易版大型结构特征
     
18.  新增[GetAttackTarget](/接口/实体/行为#getattacktarget)(客户端)， 客户端获取仇恨目标
     
19.  新增[CopyActorRenderMaterialFromPlayer](/接口/实体/渲染#copyactorrendermaterialfromplayer)(客户端)， 将渲染材质从某个玩家拷贝到某个生物identifier上
     
20.  新增[CopyActorGeometryFromPlayer](/接口/实体/渲染#copyactorgeometryfromplayer)(客户端)， 将渲染几何体从某个玩家拷贝到某个生物identifier上
     
21.  新增[CopyActorTextureFromPlayer](/接口/实体/渲染#copyactortexturefromplayer)(客户端)， 将贴图从某个玩家拷贝到某个生物identifier上
     
22.  新增[GetActorRenderParams](/接口/实体/渲染#getactorrenderparams)(客户端)， 获取实体渲染参数
     
23.  新增[GetBiomeName](/接口/世界/地图#getbiomename)(客户端)， 获取客户端当前维度已加载区域某一位置所属的生物群系信息
     
24.  新增[GetBlockEntityData](/接口/方块/方块实体#getblockentitydata)(客户端)， 客户端获取方块（包括自定义方块）的数据
     
25.  新增[GetSize](/接口/实体/属性#getsize)(客户端)， 客户端获取实体的包围盒
     
26.  新增[GetEntitiesAround](/接口/世界/地图#getentitiesaround)(客户端)， 客户端获取区域内的entity列表
     
27.  新增[GetEntitiesInSquareArea](/接口/世界/地图#getentitiesinsquarearea)(客户端)， 客户端获取区域内的entity列表
     
28.  新增[GetEntitiesAroundByType](/接口/世界/地图#getentitiesaroundbytype)(客户端)， 客户端获取区域内的某类型的entity列表
     
29.  新增[AddDropItemToWorld](/接口/方块/渲染#adddropitemtoworld)(客户端)， 添加一个客户端掉落物渲染
     
30.  新增[GetClientDropItemEntityIdList](/接口/方块/渲染#getclientdropitementityidlist)(客户端)， 获得所有通过AddDropItemToWorld创建的entityId的list
     
31.  新增[DeleteClientDropItemEntity](/接口/方块/渲染#deleteclientdropitementity)(客户端)， 删除AddDropItemToWorld创建的客户端掉落物
     
32.  新增[GetPlayerItem](/接口/玩家/背包#getplayeritem)(客户端)， 客户端获取玩家物品，支持获取盔甲栏，副手以及主手物品
     
33.  新增[GetPlayerAllItems](/接口/玩家/背包#getplayerallitems)(客户端)， 客户端获取指定槽位的批量物品信息
     
34.  新增[GetName](/接口/实体/属性#getname)(客户端)， 客户端获取生物的自定义名称
     
35.  新增[GetPlayerHunger](/接口/玩家/属性#getplayerhunger)(客户端)， 客户端获取玩家饥饿度
     
36.  新增[GetEntityRider](/接口/玩家/行为#getentityrider)(客户端)， 客户端获取骑乘者正在骑乘的实体的id。
     
37.  新增[GetOwnerId](/接口/实体/行为#getownerid)(客户端)， 客户端获取驯服生物的主人id
     
38.  新增[GetTime](/接口/世界/时间#gettime)(客户端)， 客户端获取当前世界时间
     
39.  新增[GetBindWorldPosition](/接口/自定义UI/UI界面#getbindworldposition)(客户端)， 取该UI绑定的worldPosition
     
40.  新增[asSelectionWheel](/接口/自定义UI/UI控件#asselectionwheel)(客户端)， 将当前BaseUIControl转换为SelectionWheelUIControl实例
     
41.  新增[SetIsSwallow](/接口/自定义UI/UI控件#setisswallow)(客户端)， 设置当前面板输入是否会吞噬事件
     
42.  新增[GetIsSwallow](/接口/自定义UI/UI控件#getisswallow)(客户端)， 判断当前面板输入是否会吞噬事件
     
43.  新增[GetSliceCount](/接口/自定义UI/UI控件#getslicecount)(客户端)， 获取轮盘可以选择的总切片数量
     
44.  新增[GetCurrentSliceIndex](/接口/自定义UI/UI控件#getcurrentsliceindex)(客户端)， 获取轮盘当前选择的切片的index
     
45.  新增[SetCurrentSliceIndex](/接口/自定义UI/UI控件#setcurrentsliceindex)(客户端)， 设置轮盘选择的切片
     
46.  新增[SetTouchUpCallback](/接口/自定义UI/UI控件#settouchupcallback)(客户端)， 设置轮盘选择切片并且鼠标按下抬起后触发回调函数
     
47.  新增[SetHoverCallback](/接口/自定义UI/UI控件#sethovercallback)(客户端)， 设置轮盘选择切片触发回调函数
     
48.  新增[EntityComponentType](/枚举值/EntityComponentType)， 原版实体组件类型
     

*   调整

1.  调整[CreateUI](/接口/自定义UI/通用#createui)(客户端)， 添加了bindWorldPosition参数用于绑定世界坐标
    
2.  调整[LobbyGetAchievementStorage](/接口/成就#lobbygetachievementstorage)(服务端)， 支持在网络服使用
    
3.  调整[LobbySetAchievementStorage](/接口/成就#lobbysetachievementstorage)(服务端)， 支持在网络服使用
    
4.  调整[SpawnItemToPlayerInv](/接口/玩家/背包#spawnitemtoplayerinv)(服务端)， 当附魔信息错误时，无法生成物品，返回False。调整前为会生成一个没有附魔的物品
    
5.  调整[SetPlayerAllItems](/接口/玩家/背包#setplayerallitems)(服务端)， 当附魔信息错误时，无法生成物品，返回False。调整前为会生成一个没有附魔的物品
    
6.  调整[SetAttr](/接口/实体/自定义属性#setattr)(服务端)， 新增needRestore参数用于自动存档并在实体加载时恢复
    
7.  调整[SetCameraRot](/接口/玩家/摄像机#setcamerarot)(客户端)， 支持设置Roll（翻滚角）的角度